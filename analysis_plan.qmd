---
title: "Analysis Plan"
format:
  html:
    css: styles.css
    embed-resources: TRUE
    code-fold: true
    page-layout: full
    fig_caption: yes
    toc: TRUE
---

## Objective

This analysis plan is for the Code for America take home assignment: identifying factors positively and negatively associated with CalFresh (SNAP) approval based on application data collected through [GetCalFresh.org](https://www.getcalfresh.org/). The dataset includes ~2,000 records from San Diego County and spans application characteristics, document submission behavior, interview status, and approval outcomes.

## Key Questions

1. **What factors are most strongly associated with CalFresh approval?**  
2. **Where would you look next to improve the application process?**

Additional sub-questions I will explore:

- How do interview completion and document submission timing relate to approval?
- Are there interaction effects between eligibility and process variables (e.g., income × housing)?
- Does approval likelihood vary by geography, and what ZIP-level characteristics might help explain it?

## Variables of Interest

### Application-Level Variables

- `income`: Monthly household income (eligibility driver)
- `household_size`: Number of people applying
- `completion_time_mins`: Total time to complete application
- `docs_with_app`, `docs_after_app`: Document submission timing
- `had_interview`: Whether interview was reportedly completed
- `stable_housing`: Binary indicator for housing status
- `under18_n`, `over_59_n`: Household age composition
- `zip`: Location of applicant
- `approved`: Outcome variable (1 = approved, 0 = not approved)

### Supplemental Variables (ZIP-level Census Merge)

To enrich geographic context, I will merge Census data by ZIP to add:

- % below poverty line  
- % foreign-born  
- % limited English proficiency  
- Racial/ethnic composition (% Hispanic, % Black, etc.)

## Analytical Approach

### Step 1: Data Preparation

- Clean and validate variable types
- Summarize distributions and identify missing values
- Flag variables with high missingness (`had_interview`) for special handling
- Merge ZIP-level demographic data for exploratory mapping and adjustment

### Step 2: Exploratory Analysis

- Visualize approval rates by binary/categorical variables
- Assess document and interview completion behavior by approval status
- Identify any ZIP codes with unusually low or high approval rates
- Correlation checks to avoid multicollinearity in modeling

### Step 3: Logistic Regression Modeling

- **Baseline model**: Includes `income`, `household_size`, and key process variables
- **Expanded model**: Adds `stable_housing`, age group composition, and `completion_time_mins`
- **Interaction model**: Tests conditional effects (e.g., `income × housing`)
- **ZIP-adjusted model**: Includes ZIP-level controls to account for geographic variation

All models will be assessed based on interpretability, model fit (AIC/BIC), and variance explained (pseudo R²).

## Deliverables (per exercise instructions)

- A clear, reproducible analysis pipeline (R code)
- At least one regression results table with explanatory text
- 2–4 paragraphs summarizing methods, results, and interpretation
- 1–2 paragraphs proposing practical areas for improvement based on findings

Additional optional outputs (value-adds):

- ZIP-level heatmap of approval rates
- Predicted probabilities across subgroups (e.g., with/without interview)
- Marginal effects plots to visualize key predictors

## Assumptions and Limitations

- Missing `had_interview` values do not necessarily indicate non-completion — caution is needed in interpretation.
- Applicants may submit documents outside GetCalFresh, which we cannot observe.
- ZIP-level Census variables are proxies for place-based context, not individual characteristics.
- Approval data are county-provided and assumed to be accurate.

## Next Steps for Deeper Insight

If this were a full engagement, I would:

- Conduct qualitative interviews to understand why people don’t complete interviews or submit documents
- TBD
